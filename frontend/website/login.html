<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Desktop</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="utilities/spacing.css" />
    </head>
    <body class="m-10">
        <div id="login_dialog">
            <dialog id="login_window" class="w-1\/2 preview">
            <div class="dialog-header">
                <h2>Welcome to Windows</h2>
            </div>
            <div class="dialog-body">
                <div class="login_card">
                <img src="recources/windows_95_key.png" width="100" />
                <div class="field-group">
                    <p>Type a user name and password to log on to Windows.</p>
                    <div class="input-group">
                    <label for="user_name">User name:</label>
                    <input type="text" id="user_name" />
                    </div>
                    <div class="input-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" />
                    </div>
                </div>
                <button id="login_ok">OK</button>
                <button onclick="document.getElementById('login_window').close()">Cancel</button>
                </div>
            </div>
            </dialog>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("login_window").showModal();

                window.transitionToPage = function (href) {
                    document.body.style.opacity = 0;
                    setTimeout(function () {
                    window.location.href = href;
                    }, 1000);
                };

                document.getElementById("login_ok").addEventListener("click", function () {
                    const username = document.getElementById("user_name").value;
                    localStorage.setItem("user_name", username);
                    transitionToPage("index.html"); 
                });

            });
        </script>
    </body>
</html>
